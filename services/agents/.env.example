# TradeMatrix.ai - Agents/Celery Workers Environment Configuration
# Copy this file to .env and fill in actual values

# Supabase Configuration (Required)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Redis Configuration (Required for Celery)
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# Celery Configuration
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# EOD Data Fetching
EOD_DATA_CONFIG_PATH=config/rules/eod_data_config.yaml
EOD_FETCH_ENABLED=true
EOD_FETCH_RETRY_ATTEMPTS=3
EOD_FETCH_RETRY_DELAY_MINUTES=5

# Market Data Sources
TWELVE_DATA_API_KEY=your-key-here
EODHD_API_KEY=your-key-here

# Realtime Price Fetching (for Liquidity Alert System)
FINNHUB_API_KEY=your-finnhub-api-key-here
ALPHA_VANTAGE_API_KEY=your-alpha-vantage-api-key-here

# Web Push Notifications (VAPID)
# Generate keys with: pip install py-vapid && vapid --gen
VAPID_PUBLIC_KEY=your_vapid_public_key_here
VAPID_PRIVATE_KEY=your_vapid_private_key_here
VAPID_SUBJECT=mailto:info@tradematrix.ai

# Chart Integration
CHARTIMG_API_KEY=your-key-here

# OpenAI API (Required for AI Agents)
OPENAI_API_KEY=sk-your-key-here
OPENAI_MODEL=gpt-4-turbo

# Notifications
SLACK_WEBHOOK_EOD=https://hooks.slack.com/services/YOUR/WEBHOOK
SLACK_WEBHOOK_ALERTS=https://hooks.slack.com/services/YOUR/WEBHOOK
TELEGRAM_BOT_TOKEN=your-bot-token
TELEGRAM_CHAT_ID=your-chat-id

# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# Logging
LOG_LEVEL=INFO
LOG_FILE=logs/agents.log

# Feature Flags
ENABLE_CHART_WATCHER=true
ENABLE_SIGNAL_BOT=true
ENABLE_RISK_MANAGER=true
ENABLE_JOURNAL_BOT=true
ENABLE_MORNING_PLANNER=true
ENABLE_US_OPEN_PLANNER=true

# Worker Configuration
WORKER_PREFETCH_MULTIPLIER=4
WORKER_MAX_TASKS_PER_CHILD=1000
